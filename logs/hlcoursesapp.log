2025-04-06 06:50:33 [restartedMain] INFO  o.e.h.HlCoursesAppServerApplication - Starting HlCoursesAppServerApplication using Java 23.0.1 with PID 30976 (C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes started by User in C:\Users\User\IdeaProjects\HLCoursesAppServer)
2025-04-06 06:50:33 [restartedMain] INFO  o.e.h.HlCoursesAppServerApplication - The following 1 profile is active: "dev"
2025-04-06 06:50:33 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-06 06:50:33 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-06 06:50:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-06 06:50:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 13 JPA repository interfaces.
2025-04-06 06:50:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-06 06:50:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-06 06:50:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-04-06 06:50:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-06 06:50:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2091 ms
2025-04-06 06:50:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Starting...
2025-04-06 06:50:38 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HLCoursesPool - Added connection org.postgresql.jdbc.PgConnection@9b6acfa
2025-04-06 06:50:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Start completed.
2025-04-06 06:50:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-06 06:50:38 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-04-06 06:50:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-06 06:50:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-06 06:50:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-06 06:50:44 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-06 06:50:45 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'courseController' defined in file [C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes\org\example\hlcoursesappserver\controller\CourseController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'courseService' defined in file [C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes\org\example\hlcoursesappserver\service\CourseService.class]: Unsatisfied dependency expressed through constructor parameter 7: Error creating bean with name 'progressStatService' defined in file [C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes\org\example\hlcoursesappserver\service\ProgressStatService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'courseService': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-04-06 06:50:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-06 06:50:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Shutdown initiated...
2025-04-06 06:50:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Shutdown completed.
2025-04-06 06:50:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-04-06 06:50:45 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-06 06:50:46 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   courseController defined in file [C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes\org\example\hlcoursesappserver\controller\CourseController.class]
┌─────┐
|  courseService defined in file [C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes\org\example\hlcoursesappserver\service\CourseService.class]
↑     ↓
|  progressStatService defined in file [C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes\org\example\hlcoursesappserver\service\ProgressStatService.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-04-06 07:02:03 [restartedMain] INFO  o.e.h.HlCoursesAppServerApplication - Starting HlCoursesAppServerApplication using Java 23.0.1 with PID 9876 (C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes started by User in C:\Users\User\IdeaProjects\HLCoursesAppServer)
2025-04-06 07:02:03 [restartedMain] INFO  o.e.h.HlCoursesAppServerApplication - The following 1 profile is active: "dev"
2025-04-06 07:02:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-06 07:02:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-06 07:02:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-06 07:02:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 105 ms. Found 13 JPA repository interfaces.
2025-04-06 07:02:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-06 07:02:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-06 07:02:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-04-06 07:02:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-06 07:02:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1998 ms
2025-04-06 07:02:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Starting...
2025-04-06 07:02:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HLCoursesPool - Added connection org.postgresql.jdbc.PgConnection@1ce68147
2025-04-06 07:02:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Start completed.
2025-04-06 07:02:07 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-06 07:02:08 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-04-06 07:02:08 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-06 07:02:08 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-06 07:02:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-06 07:02:13 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-06 07:02:14 [restartedMain] INFO  o.e.h.config.GoogleDriveConfig - Инициализация сервиса Google Drive
2025-04-06 07:02:14 [restartedMain] INFO  o.e.h.config.GoogleDriveConfig - Сервис Google Drive успешно инициализирован
2025-04-06 07:02:14 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-06 07:02:15 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-06 07:02:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-06 07:02:15 [restartedMain] INFO  o.e.h.HlCoursesAppServerApplication - Started HlCoursesAppServerApplication in 12.55 seconds (process running for 13.529)
2025-04-06 07:14:17 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-06 07:14:17 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-06 07:14:17 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-06 07:14:19 [http-nio-8080-exec-4] INFO  o.e.h.controller.CourseController - Получена заявка на курс ID: 6 от слушателя ID: 2
2025-04-06 07:14:19 [http-nio-8080-exec-4] ERROR o.e.h.controller.CourseController - Ошибка при подаче заявки: Listener not found
2025-04-06 07:16:34 [http-nio-8080-exec-6] INFO  o.e.h.controller.CourseController - Получена заявка на курс ID: 6 от слушателя ID: 11
2025-04-06 07:16:36 [http-nio-8080-exec-7] INFO  o.e.h.controller.CourseController - Запрос на завершение урока ID: 3 для курса ID: 6 от слушателя ID: 11
2025-04-06 07:16:36 [http-nio-8080-exec-7] ERROR o.e.h.controller.CourseController - Ошибка: Слушатель не записан на этот курс
2025-04-06 07:16:38 [http-nio-8080-exec-1] INFO  o.e.h.controller.CourseController - Получена заявка на курс ID: 6 от слушателя ID: 11
2025-04-06 07:16:40 [http-nio-8080-exec-1] ERROR o.e.h.controller.CourseController - Ошибка при подаче заявки: Заявка на этот курс уже подана
2025-04-06 07:18:11 [http-nio-8080-exec-2] INFO  o.e.h.controller.CourseController - Запрос на завершение урока ID: 3 для курса ID: 6 от слушателя ID: 11
2025-04-06 07:18:12 [http-nio-8080-exec-2] ERROR o.e.h.controller.CourseController - Ошибка: Слушатель не записан на этот курс
2025-04-06 07:24:28 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-06 07:24:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Shutdown initiated...
2025-04-06 07:24:28 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Shutdown completed.
2025-04-06 07:24:34 [restartedMain] INFO  o.e.h.HlCoursesAppServerApplication - Starting HlCoursesAppServerApplication using Java 23.0.1 with PID 20056 (C:\Users\User\IdeaProjects\HLCoursesAppServer\target\classes started by User in C:\Users\User\IdeaProjects\HLCoursesAppServer)
2025-04-06 07:24:34 [restartedMain] INFO  o.e.h.HlCoursesAppServerApplication - The following 1 profile is active: "dev"
2025-04-06 07:24:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-06 07:24:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-06 07:24:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-06 07:24:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 13 JPA repository interfaces.
2025-04-06 07:24:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-04-06 07:24:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-06 07:24:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-04-06 07:24:36 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-06 07:24:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1671 ms
2025-04-06 07:24:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Starting...
2025-04-06 07:24:38 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HLCoursesPool - Added connection org.postgresql.jdbc.PgConnection@55f98973
2025-04-06 07:24:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HLCoursesPool - Start completed.
2025-04-06 07:24:39 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-06 07:24:39 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-04-06 07:24:39 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-06 07:24:39 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-06 07:24:44 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-06 07:24:44 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-06 07:24:45 [restartedMain] INFO  o.e.h.config.GoogleDriveConfig - Инициализация сервиса Google Drive
2025-04-06 07:24:45 [restartedMain] INFO  o.e.h.config.GoogleDriveConfig - Сервис Google Drive успешно инициализирован
2025-04-06 07:24:45 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-04-06 07:24:46 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-06 07:24:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-04-06 07:24:46 [restartedMain] INFO  o.e.h.HlCoursesAppServerApplication - Started HlCoursesAppServerApplication in 12.143 seconds (process running for 13.055)
2025-04-06 07:25:04 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-06 07:25:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-06 07:25:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-06 07:25:05 [http-nio-8080-exec-3] INFO  o.e.h.controller.CourseController - Получена заявка на курс ID: 6 от слушателя ID: 11
2025-04-06 07:25:07 [http-nio-8080-exec-4] INFO  o.e.h.controller.CourseController - Запрос на завершение урока ID: 3 для курса ID: 6 от слушателя ID: 11
2025-04-06 07:25:07 [http-nio-8080-exec-4] ERROR o.e.h.controller.CourseController - Ошибка: Урок не найден
2025-04-06 07:26:44 [http-nio-8080-exec-8] INFO  o.e.h.controller.CourseController - Запрос на завершение урока ID: 2 для курса ID: 6 от слушателя ID: 11
2025-04-06 07:26:46 [http-nio-8080-exec-9] INFO  o.e.h.controller.CourseController - Запрос на прохождение теста ID: 1 для курса ID: 6 от слушателя ID: 11
2025-04-06 07:26:47 [http-nio-8080-exec-10] INFO  o.e.h.controller.CourseController - Запрос статистики прогресса для курса ID: 6 от слушателя ID: 11
2025-04-06 07:26:48 [http-nio-8080-exec-1] INFO  o.e.h.controller.CourseController - Запрос списка прогресса всех курсов для слушателя ID: 11
